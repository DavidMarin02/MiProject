<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlogDeCafé</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <script>
         document.getElementById('miFormulario').addEventListener('submit', function (event) {
    event.preventDefault(); // Previene que el formulario se envíe de inmediato

    // Muestra el fondo oscurecido
    const overlay = document.createElement('div');
    overlay.className = 'overlay';
    document.body.appendChild(overlay);

    // Crea la ventana de confirmación
    const confirmationBox = document.createElement('div');
    confirmationBox.className = 'confirmacion';
    confirmationBox.innerHTML = '¿Estás seguro de que deseas confirmar la reserva?<br><button id="confirmar">Sí</button><button id="cancelar">No</button>';
    document.body.appendChild(confirmationBox);

    // Maneja los botones de confirmar y cancelar
    const confirmarBtn = document.getElementById('confirmar');
    const cancelarBtn = document.getElementById('cancelar');

    confirmarBtn.addEventListener('click', function () {
      // Si el usuario hace clic en "Sí", envía el formulario
      document.getElementById('miFormulario').submit();

      // Limpia la ventana de confirmación y el fondo oscurecido
      document.body.removeChild(overlay);
      document.body.removeChild(confirmationBox);
    });

    cancelarBtn.addEventListener('click', function () {
      // Si el usuario hace clic en "No", cierra la ventana de confirmación y el fondo oscurecido
      document.body.removeChild(overlay);
      document.body.removeChild(confirmationBox);
    });
  });
    </script>
</head>

<body>

    <header class="header">
        <div class="contenedor">
            <div class="barra">
                <a class="logo" href="index.html">
                    <h1 class="logo__nombre no-margin centrar-texto">Blog<span class="logo__bold">DeCafé</span></h1>
                </a>

                <nav class="navegacion">
                    <a href="nosotros.html" class="navegacion__enlace">Nosotros</a>
                    <a href="cursos.html" class="navegacion__enlace">Cursos</a>
                    <a href="reserva.html" class="navegacion__enlace">Reserva</a>
                </nav>
            </div>

        </div>
        <div class="header__texto">
            <h2 class="no-margin">Blog de café con consejos y cursos</h2>
            <p class="no-margin">Aprende de los expertos con las mejores recetas y consejos</p>
        </div>
    </header>
    <main class="contenedor">
        <h3 class="centrar-texto">Agendar Reserva</h3>

        <div class="contacto-bg"></div>

        <form class="formulario" id="miFormulario">
            <div class="campo">
                <label class="campo__label" for="nombre">Nombre</label>
                <input class="campo__field" type="text" placeholder="Tu Nombre" id="nombre">
            </div>

            <div class="campo">
                <label class="campo__label" for="email">E-mail</label>
                <input class="campo__field" type="email" placeholder="Tu E-mail" id="email">
            </div>

            <div class="campo">
                <label class="campo__label" for="fecha">Fecha</label>
                <input class="campo__field" type="date" id="fecha" name="fecha" required>
            </div>

            <div class="campo">
                <label class="campo__label" for="personas">Personas</label>
                <input class="campo__field" type="number" placeholder="Limite de mesas por personas max 4" id="personas" name="personas" min="0" max="4" required>

                <script>
                    const inputElement = document.getElementById('personas');
            
                    inputElement.addEventListener('input', function () {
                        // Obtén el valor actual del input
                        let valor = parseFloat(inputElement.value);
                        
                        // Comprueba si el valor está fuera del rango permitido
                        if (isNaN(valor) || valor < 0) {
                            inputElement.value = '0';
                        } else if (valor > 4) {
                            inputElement.value = '4';
                        }
                    });

                    document.getElementById('miFormulario').addEventListener('submit', function (event) {
                    event.preventDefault(); // Previene que el formulario se envíe de inmediato

                    // Muestra una ventana de confirmación
                    if (confirm('¿Estás seguro de que deseas confirmar la reserva?')) {
                        // Si el usuario hace clic en "Aceptar", envía el formulario
                         this.submit();
                         }
                    });
                </script>
            </div>

            <div class="campo">
                <label class="campo__label" for="mensaje">Mensaje</label>
                <textarea class="campo__field campo__field--textarea" id="mensaje"></textarea>
            </div>
            
            <div class="campo">
                <input type="submit" value="Confirmar Reserva">
            </div>
        </form>

    </main>
    <footer class="footer">
        <div class="contenedor">
            <a class="logo" href="index.html">
                <h1 class="logo__nombre no-margin">Blog<span class="logo__bold">DeCafé</span></h1>
            </a>

            <nav class="navegacion">
                <a href="nosotros.html" class="navegacion__enlace">Nosotros</a>
                <a href="cursos.html" class="navegacion__enlace">Cursos</a>
                <a href="reserva.html" class="navegacion__enlace">Reserva</a>
            </nav>
        </div>
    </footer>

</body>

</html>